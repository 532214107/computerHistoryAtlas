(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d9b937a"],{1925:function(t,i,e){"use strict";e.d(i,"b",(function(){return s})),e.d(i,"a",(function(){return o}));var n=e("b775"),s=function(t){return Object(n["a"])({url:"https://pchistory.demo.actkg.com/searchFrameCondition",method:"get",params:t})},o=function(t){return Object(n["a"])({url:"https://pchistory.demo.actkg.com/api/robot/talk",method:"get",params:t})}},"1c2b":function(t,i,e){},"748a":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"search-page"},[e("div",{staticClass:"container"},[e("div",{staticClass:"search-wrapper"},[e("div",{staticClass:"search-title"},[t._v(" 数据搜索 ")]),e("div",{staticClass:"search-box"},[e("el-input",{nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.searchSubmit(i)}},model:{value:t.query.q,callback:function(i){t.$set(t.query,"q",i)},expression:"query.q"}},[e("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),e("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.openDialog}},[t._v("示例")])],1),e("div",{staticClass:"as-box"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"as-list"},t._l(t.asList,(function(i,n){return e("div",{key:n,staticClass:"as-item"},[e("div",{staticClass:"as-item__title"},[t._v(t._s(i.answer))]),e("div",{staticClass:"as-item__ent"},[e("span",{staticClass:"as-item__ent-tag"},[t._v("相关实体: ")]),t._v(t._s(i.nodes.join("；"))+" ")])])})),0),e("div",{attrs:{id:"chartBox"}})])])]),e("el-dialog",{attrs:{title:"示例问题",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("div",[e("h4",{staticClass:"questionTitle"},[t._v("一、搜索实体（时期、人物、技术、组织）")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("第一代计算机")}}},[t._v("1.第一代计算机")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("夏培肃")}}},[t._v("2.夏培肃")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("主路径敏化法")}}},[t._v("3.主路径敏化法")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("中国科学院156工程处")}}},[t._v("4.中国科学院156工程处")]),e("h4",{staticClass:"questionTitle"},[t._v("二、搜索实体的信息")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("156计算机发明于哪一时期？")}}},[t._v("1.156计算机发明于哪一时期？")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("905 乙机的主要相关人物是谁？")}}},[t._v("2.905 乙机的主要相关人物是谁？")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("DJS-K1 电子控制机是哪个组织发明的？")}}},[t._v("3.DJS-K1 电子控制机是哪个组织发明的？")]),e("h4",{staticClass:"questionTitle"},[t._v("三、搜索实体之间的关系")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("中国科学院156工程处是由哪些组织合并成立的？")}}},[t._v("1.中国科学院156工程处是由哪些组织合并成立的？")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("中国科学技术大学计算机专业创始人是谁？")}}},[t._v("2.中国科学技术大学计算机专业创始人是谁？")]),e("p",{staticClass:"question",on:{click:function(i){return t.clickQuestion("国产441B晶体管计算机文档（讲义）包含哪些书籍？")}}},[t._v("3.国产441B晶体管计算机文档（讲义）包含哪些书籍？")])]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(i){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},s=[],o=(e("d81d"),e("1925")),a=(e("cccc"),{data:function(){return{query:{q:"第一代计算机",username:"test",KGname:"YQ_Demo"},loading:!1,asList:[],dialogVisible:!1}},mounted:function(){this.$route.query.q&&(this.query.q=this.$route.query.q),this.query.q&&this.onSearchData()},methods:{onSearchData:function(){var t=this;this.loading=!0,this.asList=[],Object(o["a"])(this.query).then((function(i){var e=i.all;e&&(t.loading=!1),t.asList=e.map((function(t){return{answer:t.answer,nodes:t.nodes.map((function(t){return t.name}))}}));var n={};n.nodes=e[0].nodes,n.links=e[0].links,t.initchartBox(n)})).catch((function(){t.loading=!1}))},searchSubmit:function(){this.loading=!0,this.onSearchData()},handleClose:function(t){this.$confirm("确认关闭？").then((function(i){t()})).catch((function(t){}))},openDialog:function(){this.dialogVisible=!0},clickQuestion:function(t){this.loading=!0,this.dialogVisible=!1,this.query.q=t,this.onSearchData()},initchartBox:function(t){var i=this.$echart.init(document.getElementById("chartBox")),e=t.nodes.map((function(t){var i={id:t.id,name:t.name,value:t.value,itemStyle:{}};return 0==t.id&&(i.itemStyle.borderColor="yellow",i.itemStyle.borderWidth=5,i.x=115.97,i.y=29.71),i})),n=t.links.map((function(t){return{source:t.source,target:t.target,name:t.name}}));console.log(e,n);var s={animationDuration:1500,legendHoverLink:!0,focusNodeAdjacency:!0,roam:!0,label:{normal:{show:!0,position:"inside",textStyle:{fontSize:12}}},force:{repulsion:1e3,edgeLength:[1e3,2e3]},edgeSymbol:["circle","arrow"],edgeSymbolSize:[4,50],edgeLabel:{normal:{show:!0,textStyle:{fontSize:10},formatter:"{c}"}},series:[{type:"graph",layout:"force",symbolSize:45,legendHoverLink:!0,focusNodeAdjacency:!0,roam:!0,label:{normal:{show:!0,position:"inside",textStyle:{fontSize:12}}},force:{repulsion:800},edgeSymbol:["","arrow"],edgeLabel:{normal:{show:!0,textStyle:{fontSize:10},formatter:function(t){return t.data.name}}},data:e,links:n,lineStyle:{normal:{opacity:.9,width:1,curveness:.3}},itemStyle:{borderColor:"#fff",borderWidth:1,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.3)"}}]};i.setOption(s)}}}),c=a,r=(e("da38"),e("2877")),l=Object(r["a"])(c,n,s,!1,null,"4093283a",null),u=l.exports;i["default"]=u},cccc:function(t){t.exports=JSON.parse("{}")},da38:function(t,i,e){"use strict";var n=e("1c2b"),s=e.n(n);s.a}}]);